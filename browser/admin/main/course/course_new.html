<div class="body-in" id="top">
	<div class="layui-card-body">
		<div id="alternative">
			<div class="layui-tab layui-tab-brief" lay-filter="docDemoTabBrief">
				<!--
                                	作者：820602086@qq.com
                                	时间：2018-06-26
                                	描述：选择是正式课程还是体验课程
                                -->
				<ul class="layui-tab-title">
					<li class="layui-this">新增正式课程</li>
					<li>新增免费课程</li>
				</ul>
				<div class="layui-tab-content" style="height: 100px;">
					<div class="layui-tab-item layui-show" onload="loadPay()">
						<form class="layui-form" name="new_course_form_formal" action="" method="post">
							<p class="form-label_sm">课程名称</p>
							<input type="text" name="coursename" lay-verify="title required" autocomplete="off" placeholder="请输入课程名称" class="layui-input">
							<p class="form-label_sm">课程状态</p>
							<select name="modules" lay-verify="required" lay-search="">
								<option value="">直接选择或搜索选择</option>
								<option value="1">进行中</option>
								<option value="2">已结束</option>
								<option value="3">即将开始</option>
							</select>
							<p class="form-label_sm">课程类别</p>
							<select id="categories_s" lay-filter="categories-select" lay-verify="required" lay-search="">
								<option value="">直接选择或搜索选择</option>
								<option value="1">前端</option>
								<option value="2">Java</option>
								<option value="3">Java Web</option>
								<option value="0">自定义</option>
							</select>
							<p id="categories_p"></p>
							<p class="form-label_sm">课程图片</p>
							<div class="layui-upload">
								<div class="layui-upload-drag" id="uploadpic">
									<i class="layui-icon">&#xe681;</i>
									<p>点击上传，或将图片拖拽到此处</p>
								</div>
								<blockquote class="layui-elem-quote layui-quote-nm" style="margin-top: 10px;">
									预览图：
									<div><img id="pic" /></div>
									<p id="demoText"></p>
								</blockquote>
								<!--<div class="layui-upload-list" id="pic-div" style="display: none;">
													<img class="layui-upload-img" style="height: 120px; width: 200px;" id="pic">
													<p id="demoText"></p>
												</div>-->
							</div>
							<p class="form-label_sm">课程定价</p>
							<input type="text" name="coursename" lay-verify="title required" autocomplete="off" placeholder="￥" class="layui-input">
							<!--
                                            	作者：820602086@qq.com
                                            	时间：2018-06-26
                                            	描述：接下来下的是   多选选择分部  富文本编辑器
                                            -->
							<p class="form-label_sm">开本课程的分部</p>
							<div class="layui-input-inline">
								<input type="checkbox" name="fenbu1" title="实训中心">
								<input type="checkbox" name="fenbu2" title="学校基地" checked="">
								<input type="checkbox" name="fenbu3" title="大连软件园">
							</div>
							<p class="form-label_sm">课程描述</p>
							<script type="text/plain" id="myEditor" style="height:240px;"></script>
							<p class="form-label_sm"></p>
							<button type="submit" class="layui-btn">发表</button>
							<script type="text/javascript" defer="true">
//								function loadPay() {
//								var um = UM.getEditor('myEditor');
//								um.setWidth("100%");
//								$(".edui-body-container").css("width", "98%");
								//实例化编辑器
//								}
							</script>
						</form>
					</div>
					<div class="layui-tab-item" onload="loadFree()">
						<form class="layui-form" name="new_course_form_exp" action="" method="post">
							<p class="form-label_sm">课程名称</p>
							<input type="text" name="coursename" lay-verify="title required" autocomplete="off" placeholder="请输入课程名称" class="layui-input">
							<p class="form-label_sm">课程状态</p>
							<select name="modules" lay-verify="required" lay-search="">
								<option value="">直接选择或搜索选择</option>
								<option value="1">进行中</option>
								<option value="2">已结束</option>
								<option value="3">即将开始</option>
							</select>
							<!--<p class="form-label_sm">课程类别</p>
											<select id="categories_s" lay-filter="categories-select" lay-verify="required" lay-search="">
												<option value="">直接选择或搜索选择</option>
												<option value="1">前端</option>
												<option value="2">Java</option>
												<option value="3">Java Web</option>
												<option value="0">自定义</option>
											</select>-->
							<p id="categories_p"></p>
							<p class="form-label_sm">课程图片</p>
							<div class="layui-upload">
								<div class="layui-upload-drag" id="uploadpic">
									<i class="layui-icon">&#xe681;</i>
									<p>点击上传，或将图片拖拽到此处</p>
								</div>
								<blockquote class="layui-elem-quote layui-quote-nm" style="margin-top: 10px;">
									预览图：
									<div><img id="pic" /></div>
									<p id="demoText"></p>
								</blockquote>
							</div>
							<!--<p class="form-label_sm">课程定价</p>
											<input type="text" name="coursename" lay-verify="title required" autocomplete="off" placeholder="￥" class="layui-input">-->
							<p class="form-label_sm">开本课程的分部</p>
							<select id="fenbu" lay-filter="categories-select" lay-verify="required" lay-search="">
								<option value="">直接选择或搜索选择</option>
								<option value="">直接选择或搜索选择</option>
								<option value="1">实训中心</option>
								<option value="2">大连软件园</option>
								<option value="3">世纪路</option>
								<option value="4">学校基地</option>
							</select>
							<!--<div class="layui-input-inline">
                                            	<input type="checkbox" name="like[write]" title="1">
                                            	<input type="checkbox" name="like[read]" title="2" checked="">
                                            	<input type="checkbox" name="like[game]" title="3">
                                            </div>-->
							<p class="form-label_sm">课程描述</p>
							<script type="text/plain" id="myEditor_free" style="height:240px;"></script>
							<p class="form-label_sm"></p>
							<button type="submit" class="layui-btn">发表</button>
							<script type="text/javascript" defer="true">
//								function loadFree() {
									//实例化编辑器
//									var um_free = UM.getEditor('myEditor_free');
//									um_free.setWidth("100%");
//									$(".edui-body-container").css("width", "98%");
//								}
							</script>
						</form>
					</div>
				</div>
			</div>
		</div>
	</div>

	<script>
		//JavaScript代码区域
		layui.use('element', function() {
			var element = layui.element;
		});
	</script>
	<script>
		layui.use('upload', function() {
			var $ = layui.jquery,
				upload = layui.upload;

			upload.render({
				elem: '#uploadpic',
				url: '/upload/',
				acceptMime: 'image/*',
				size: 1000 //限制文件大小，单位 KB
					,
				before: function(obj) {
					//预读本地文件示例，不支持ie8
					obj.preview(function(index, file, result) {
						$('#pic-div').show();
						$('#pic').attr('src', result); //图片链接（base64）
					});
				},
				done: function(res) {
					//如果上传失败
					if(res.code > 0) {
						return layer.msg('上传失败');
					}
					//上传成功
				},
				error: function() {
					//演示失败状态，并实现重传
					var demoText = $('#demoText');
					demoText.html('<span style="color: #FF5722;">上传失败</span> <a class="layui-btn layui-btn-danger layui-btn-mini demo-reload">重试</a>');
					demoText.find('.demo-reload').on('click', function() {
						uploadInst.upload();
					});
				},
			});
		});
		layui.use(['form', 'layedit', 'laydate'], function() {
			var form = layui.form,
				layer = layui.layer,
				$ = layui.jquery,
				layedit = layui.layedit,
				laydate = layui.laydate;

			form.render();

			form.on('select(categories-select)', function(data) {
				console.log(data.elem); //得到select原始DOM对象
				console.log(data.value); //得到被选中的值
				console.log(data.othis); //得到美化后的DOM对象
				if(data.value == 0) {
					console.log(data.value); //得到被选中的值
					//							var categories = $('#categoriess_s');
					var categories_p = $('#categories_p');
					categories_p.show();
					//							categories.hide();
					categories_p.html('<input type="text" name="lebie" autocomplete="off" placeholder="请输入自定义类别名称" class="layui-input">');
				} else if(data.value > 0) {
					$('#categories_p').hide();
				}
			});

		});
	</script>