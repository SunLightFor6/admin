<div class="body-in" id="top" style="width: 95%;">
	<form class="layui-form" action="">
		<div class="layui-form-item" style="margin-bottom: 0px;">
			<div class="layui-inline">
				<label class="layui-lz-form-label" style="width: 60px;">关键字：</label>
				<div class="layui-lz-input-inline">
					<input name="keyword" class="layui-input" style="width: 150px;" type="text" autocomplete="off" placeholder="请输入预约课程编号">
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-lz-form-label">用户昵称：</label>
				<div class="layui-lz-input-inline">
					<input name="nickname" class="layui-input" type="text" autocomplete="off" placeholder="请输入用户昵称">
				</div>
			</div>
			<div class="layui-inline">
				<label class="layui-lz-form-label" style="width: 70px;">预约时间：</label>
				<div class="layui-lz-input-inline">
					<input name="startdate" class="layui-input" id="startdate" type="text" placeholder="yyyy-MM-dd" autocomplete="off" lay-verify="startdate">
				</div>
				<div class="layui-form-mid">-</div>
				<div class="layui-lz-input-inline">
					<input name="enddate" class="layui-input" id="enddate" type="text" placeholder="yyyy-MM-dd" autocomplete="off" lay-verify="enddate">
				</div>
			</div>
			<div class="layui-inline">
				<button class="layui-btn" lay-filter="query" lay-submit="">查询</button>
			</div>
		</div>
	</form>
	<div class="body-in" style="width: 96%;">
		<table class="layui-hide" id="test" lay-filter="demo" style="word-wrap:break-word; word-break:break-all;"></table>
	</div>
</div>
<script>
	//JavaScript代码区域
	layui.use('element', function() {
		var element = layui.element;

	});
</script>
<script>
	layui.use('table', function() {
		var table = layui.table;

		table.render({
			elem: '#test',
			url: '../../json/book_handle.json',
			dataType: 'jsonp',
			skin: 'nob',
			cellMinWidth: 80 //全局定义常规单元格的最小宽度，layui 2.2.1 新增
				,
			cols: [
				[{
					field: 'bookcourseid',
							width: '10%',
					title: '课程编号',
					sort: true
				}, {
					field: 'bookcoursename',
							width: '15%',
					title: '课程标题'
				}, {
					field: 'usernickname',
							width: '10%',
					title: '用户昵称',
					sort: true
				}, {
					field: 'usertel',
							width: '10%',
					title: '用户电话'
				}, {
					field: 'bookstatus',
							width: '10%',
					title: '预约状态'
				}, {
					field: 'booktime',
							width: '18%',
					title: '预约时间'
				}, {
					field: 'message',
							width: '16%',
					title: '留言'
				}, {
							width: '11%',
					align: 'center',
					toolbar: '#barDemo'
				}]
			],
			page: true
		});
	});
</script>

<script id="barDemo" type="text/html">
	<a class="layui-btn layui-btn-xs" lay-event="edit">确认处理</a>
</script>

<script>
	layui.use('table', function() {
		var table = layui.table;
		//监听表格复选框选择
		table.on('checkbox(demo)', function(obj) {
			console.log(obj)
		});
		//监听工具条
		table.on('tool(demo)', function(obj) {
			var data = obj.data;
			if(obj.event === 'edit') {
				layer.alert('编辑行：<br>' + JSON.stringify(data)) //在这里跳入编辑界面
			}
		});
		$('.demoTable .layui-btn').on('click', function() {
			var type = $(this).data('type');
			active[type] ? active[type].call(this) : '';
		});
	});
</script>
<script>
	layui.use(['form', 'layedit', 'laydate'], function() {
		var form = layui.form,
			layer = layui.layer,
			layedit = layui.layedit,
			laydate = layui.laydate;

		//日期
		laydate.render({
			elem: '#startdate'
		});
		laydate.render({
			elem: '#enddate'
		});

		//创建一个编辑器
		var editIndex = layedit.build('LAY_demo_editor');

		//自定义验证规则
		form.verify({
			title: function(value) {
				if(value.length < 5) {
					return '标题至少得5个字符啊';
				}
			},
			pass: [/(.+){6,12}$/, '密码必须6到12位'],
			content: function(value) {
				layedit.sync(editIndex);
			}
		});

		//监听指定开关
		form.on('switch(switchTest)', function(data) {
			layer.msg('开关checked：' + (this.checked ? 'true' : 'false'), {
				offset: '6px'
			});
			layer.tips('温馨提示：请注意开关状态的文字可以随意定义，而不仅仅是ON|OFF', data.othis)
		});

		//监听提交
		form.on('submit(demo1)', function(data) {
			layer.alert(JSON.stringify(data.field), {
				title: '最终的提交信息'
			})
			return false;
		});
	});
</script>